blogdown:::serve_site()
blogdown:::serve_site()
servr::daemon_stop()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
iris %>% head %>% kable
library(dplyr)
iris %>% head %>% kable
iris %>% head %>% kable::kable
blogdown:::serve_site()
library(dplyr)
library(knitr)
mtcars %>% head %>% kable()
iris %>% DT::datatable()
update.packages("DT")
library(DT)
sessionInfo()
blogdown:::serve_site()
iris %>% DT::datatable()
iris %>% DT::datatable()
iris %>% DT::datatable()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
.libPaths("H://")
.libPaths("H://Rlibrary")
install.packages("tidyverse")
install.packages("tidyverse")
.libPaths("H://Rlibrary")
.libPaths()
.libPaths("H://Rlibrary")
.libPaths()
install.packages("tidyverse")
install.packages("tidyverse")
# Load library
library(tidyr)
library(dplyr)
library(ggplot2)
# Load library
library(tidyr)
library(dplyr)
library(ggplot2)
data <- gapminder %>%
filter(continent == "Europe") %>%
filter(year %in% c(1952, 1977)) %>%
select(country, year, gdpPercap) %>%
spread(year, gdpPercap) %>%
rename(y1952 = `1952`,
y1977 = `1977`)
library(gapminder)
data <- gapminder %>%
filter(continent == "Europe") %>%
filter(year %in% c(1952, 1977)) %>%
select(country, year, gdpPercap) %>%
spread(year, gdpPercap) %>%
rename(y1952 = `1952`,
y1977 = `1977`)
data
data %>% head(10)
data <- gapminder %>%
filter(continent == "Europe") %>%
filter(year %in% c(1952, 1977)) %>%
select(country, year, gdpPercap) %>%
spread(year, gdpPercap) %>%
rename(y1952 = `1952`,
y1977 = `1977`)
data %>% head(10)
data %>%
mutate(country = fct_reorder(
country, y1977
)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_line(aes(as.numeric(country), y1977), col = "grey10") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5)
# Load library
library(tidyverse)
library(gapminder)
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_line(aes(as.numeric(country), y1977), col = "grey10") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5)
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
#  geom_line(aes(as.numeric(country), y1977), col = "grey10") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5)
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip()
country, y1952), color = "darkred", size = 3.5) +
geom_point(aes(country, y1977), color = "darkblue", size = 3.5) +
coord_flip()
country, y1952), color = "darkred", size = 3.5) +
geom_point(aes(country, y1977), color = "darkblue", size = 3.5) +
coord_flip()
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952), color = "darkred", size = 3.5) +
geom_point(aes(country, y1977), color = "darkblue", size = 3.5) +
coord_flip()
country, y1952), color = "steelblue1", size = 3.5) +
geom_point(aes(country, y1977), color = "steelblue4", size = 3.5) +
coord_flip()
data %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952), color = "steelblue1", size = 3.5) +
geom_point(aes(country, y1977), color = "steelblue4", size = 3.5) +
coord_flip()
data %>%
ggplot(aes(x  = country)) +
# Tạo đường nối giữa hai điểm
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
# Tạo điểm đầu
geom_point(aes(country, y1952, color = "1952"), size = 3.5) +
# Tạo điểm cuối
geom_point(aes(country, y1977,
color = "1977"), size = 3.5) +
coord_flip()
# Tinh chỉnh theme cho biểu đồ
my_theme <- function(...) {
theme_bw() +
theme(plot.background = element_rect(fill = "white")) +
theme(panel.grid.minor = element_blank()) +
theme(panel.grid.major.y = element_blank()) +
theme(panel.grid.major.x = element_line()) +
theme(axis.ticks = element_blank()) +
theme(panel.border = element_blank()) +
theme(text = element_text(family = "Georgia", size = 13, color = "black")) +
theme(plot.subtitle = element_text(color = "gray20", size = 10, face = "italic")) +
theme(legend.title = element_text(size = 10, color = "gray20")) +
theme(legend.position = "top")
}
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_line(aes(as.numeric(country), y1977), col = "grey10") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("steelblue1", "steelblue4")
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("steelblue1", "steelblue4")
) +
labs(x = NULL, y = NULL)
# Tinh chỉnh theme cho biểu đồ
my_theme <- function(...) {
theme_bw() +
theme(plot.background = element_rect(fill = "white")) +
theme(panel.grid.minor = element_blank()) +
theme(panel.grid.major.y = element_blank()) +
theme(panel.grid.major.x = element_line()) +
theme(axis.ticks = element_blank()) +
theme(panel.border = element_blank()) +
theme(text = element_text(size = 13, color = "black")) +
theme(plot.subtitle = element_text(color = "gray20", size = 10, face = "italic")) +
theme(legend.title = element_text(size = 10, color = "gray20")) +
theme(legend.position = "top")
}
# Tinh chỉnh theme cho biểu đồ
my_theme <- function(...) {
theme_bw() +
theme(plot.background = element_rect(fill = "white")) +
theme(panel.grid.minor = element_blank()) +
theme(panel.grid.major.y = element_blank()) +
theme(panel.grid.major.x = element_line()) +
theme(axis.ticks = element_blank()) +
theme(panel.border = element_blank()) +
theme(text = element_text(size = 13, color = "black")) +
theme(plot.subtitle = element_text(color = "gray20", size = 10, face = "italic")) +
theme(legend.title = element_text(size = 10, color = "gray20")) +
theme(legend.position = "top")
}
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("steelblue1", "steelblue4")
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred"),
alpha = 0.7
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(
country, y1952, color = "x1"
), size = 3.5) +
geom_point(aes(country, y1977, color = "x2"), size = 3.5) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL)
# Tạo biểu đồ mới
p1 <- data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL)
p1 + geom_line(aes(as.numeric(country), y1977), col = "grey10")
p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
# Tạo biểu đồ mới
p1 <- data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL,
title = "Lollipop chart",
subtitle = "Change of GDP per capita in Europe")
p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
# Tạo biểu đồ mới
p1 <- data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL,
title = "Example of lollipop chart",
subtitle = "A change of GDP per capita in Europe")
p1
# Tạo biểu đồ mới
p1 <- data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50") +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL,
title = "Example of lollipop chart",
subtitle = "A change of GDP per capita in Europe",
caption = "Created by RAnalytics.vn")
p1
p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
p2 <- p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
p2
ggsave(p2, device = "banner-27.png")
?ggsave
ggsave(p2, filename = "banner-27.png")
ggsave(p2, filename = "banner-27.png", dpi = 600)
# Tạo biểu đồ mới
p1 <- data %>%
mutate(country = fct_reorder(country, y1977)) %>%
ggplot(aes(x  = country)) +
geom_segment(aes(y = y1952, yend = y1977,
x = country, xend = country), size = 1,
col = "grey50",
alpha = 0.7) +
geom_point(aes(country, y1952, color = "1952"),
size = 3.5, alpha = 0.7) +
geom_point(aes(country, y1977, color = "1977"),
size = 3.5, alpha = 0.7) +
coord_flip() +
my_theme() +
scale_y_continuous(breaks = seq(0, 30000, by = 5000),
limits = c(800, 27000)) +
scale_color_manual(
name = "Year",
labels = c("1952", "1977"),
values = c("darkblue", "darkred")
) +
labs(x = NULL, y = NULL,
title = "An example of lollipop chart",
subtitle = "Changes of GDP per capita in Europe",
caption = "Created by RAnalytics.vn")
p1
p2 <- p1 + geom_line(aes(as.numeric(country), y1977),
col = "darkred")
p2
ggsave(p2, filename = "banner-27.png", dpi = 300,
height = 4,
width = 6)
ggsave(p2, filename = "banner-27.png", dpi = 1200,
height = 4,
width = 6)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
servr::stop_daemon(4)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
