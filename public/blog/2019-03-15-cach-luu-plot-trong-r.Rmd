---
title: "Cách lưu biểu đồ dưới dạng ảnh"
author: "Nguyễn Hải Trường"
date: '2019-03-15'
categories:
  - data-vizualization
tags:
  - ggplot2
summary: "Cách ghép các bảng dữ liệu với join"
banner: "img/banners/banner-34.png"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F)
```


Trong quá trình phân tích dữ liệu sẽ có lúc phát sinh trường hợp các bạn muốn lưu biểu đồ dưới dạng ảnh để sau đó phục vụ mục đích lên slide trình bày với đơn vị kinh doanh hoặc cán bộ quản lý.

Trong bài viết này, `Ranalytics` sẽ hướng dẫn các bạn cách lưu biểu đồ dưới dạng ảnh trong `R`.

---

Giả sử chúng ta vẽ biểu đồ boxplot sử dụng data `iris` có sẵn trong `R` như sau:

```{r}
library(dplyr)
library(ggplot2)

iris %>% 
  ggplot(aes(Species, Sepal.Length))+
  geom_boxplot(aes(fill = Species))+
  theme_classic()
```


Để lưu biểu đồ dưới dạng ảnh, chúng ta có 2 cách sau:

**Cách 1**: Plots panel -> Export -> Save as Image hoặc Save as PDF


<center>![](./20190315_save_plot_in_r.png)</center>

---

**Cách 2**: Sử dụng code `R`

*Lưu file ảnh:*

```{r, eval = F}
# Bước 1: Mở file jpeg
jpeg("boxplot1.jpg",  # Đặt tên file
     width = 350, # set chiều rộng của ảnh
     height = 350 # chiều dài
     )

# Bước 2: Tạo plot
iris %>% 
  ggplot(aes(Species, Sepal.Length))+
  geom_boxplot(aes(fill = Species))+
  theme_classic()

# 3. Đóng file
dev.off()
```


*Lưu file PDF:*

```{r, eval = F}
# Bước 1: Mở file pdf
pdf("boxplot2.pdf"   # Đặt tên file
    )

# Bước 2: Tạo plot
iris %>% 
  ggplot(aes(Species, Sepal.Length))+
  geom_boxplot(aes(fill = Species))+
  theme_classic()

# Bước 3: Đóng file
dev.off()
```

Ngoài ra, để mở một số định dạng file khác, các bạn có thể tham khảo các hàm sau:

- `png("rplot.png")`: png file

- `postscript("rplot.ps")`: postscript file

- `bmp("rplot.bmp")`: bmp file

- `win.metafile("rplot.wmf")`: windows metafile

---

Như vậy, chúng ta đã vừa được học cách lưu biểu đồ dưới dạng ảnh trong `R`. Chúc các bạn học tập và làm việc hiệu quả với ``Ranalytics.vn``!
